<!DOCTYPE html>
<html lang="en">
{{partial "head" .}}
</head>

<body class="page">
    {{ partial "banner" .}}
    {{partial "partner/headline" .}}
    <div class="partner__single-partners container-fluid">
        <div class="row d-flex justify-content-center">
            {{partial "partner/partners" .}}
        </div>
    </div>

    <div class="partner__single-benefits">
        {{partial "partner/benefits" .}}
    </div>

    <div class="partner__single-virtuous-cycle">
        {{partial "partner/virtuous-cycle" .}}
    </div>

    <footer>
        {{partial "footer" . }}
    </footer>

    {{partial "site-scripts" .}}
</body>
</html>

<script type="text/javascript">
  window.onload = function() {

    var button = document.getElementById("mc-embedded-subscribe-footer")

    button.onclick = function (event) {

      event.preventDefault()

      var inputValue = document.getElementById("mce-EMAIL-newsletter").value
      var errElm = document.getElementById("mce-error-response-newsletter");
      var succElm = document.getElementById("mce-success-response-newsletter");

      if (!inputValue || inputValue.length < 0 || !inputValue.includes("@")) {
        if(succElm) {
          succElm.setAttribute("style", "display:none;");
        }
        if(errElm) {
          errElm.setAttribute("style", "display:flex;");
        }
        return;
      } else {
        analytics.identify(analytics.user().anonymousId(), {email: inputValue, storj_newsletter: true}, {}, function() {
          analytics.track("storj_newsletter", {});
          if(errElm) {
            errElm.setAttribute("style", "display:none;");
          }
          if(succElm) {
            succElm.setAttribute("style", "display:flex;");
          }
        });
      }
    }
  }
</script>
